import sys

def solve():
    import sys
    input = sys.stdin.buffer.read
    data = input().split()
    idx = 0
    T = int(data[idx])
    idx += 1
    results = []
    
    for _ in range(T):
        N = int(data[idx])
        idx += 1
        C = list(map(int, data[idx:idx+N]))
        idx += N
        
        # Check if the target color can be achieved with brush strokes
        # The brush is 3mm wide, so each stroke covers 3 consecutive mm
        # We need to ensure that each position is covered by at least one stroke
        # and that the color matches the target
        
        # Check if the first and last positions can be covered by strokes
        # The first position can only be covered by strokes starting at 0 or 1
        # The last position can only be covered by strokes ending at N-1 or N-2
        # So the first stroke must start at 0 or 1, and the last stroke must end at N-1 or N-2
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # The first stroke can be at 0, 1, or 2
        # But to cover the first position, the stroke must start at 0 or 1
        # So the first stroke must start at 0 or 1
        # And the color of the first 3 positions must be the same
        # Similarly for the last 3 positions
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke
        # Check if the last 3 positions can be covered by a stroke
        # And check if the color at each position matches the target
        
        # Check if the first 3 positions can be covered by a stroke